#!/bin/bash

###############################################
#                NoData & EPSG                #
###############################################

# Variables
INPUT_DIR="/home/carva014/Work/Code/FAO/GloSIS/glosis-datacube/BT/tmp"                          # << EDIT THIS LINE!
cd $INPUT_DIR

# Chcek NoData values before processing
printf "%-8s %-8s %-12s %-12s %-8s %s\n" "Minimum" "Maximum" "Mean" "StdDev" "NoData" "File"
for FILE in *.tif; do
    BASENAME=$(basename "$FILE")

    # Extract NoData and stat values
    CURRENT_NODATA=$(gdalinfo "$FILE" | grep "NoData Value=" | awk -F'NoData Value=' '{print $2}')
    MIN=$(gdalinfo -stats "$FILE" | grep "Minimum=" | awk -F'Minimum=' '{print $2}' | awk -F',' '{print $1}')
    MAX=$(gdalinfo -stats "$FILE" | grep "Minimum=" | awk -F'Maximum=' '{print $2}' | awk -F',' '{print $1}')
    MEA=$(gdalinfo -stats "$FILE" | grep "Minimum=" | awk -F'Mean=' '{print $2}' | awk -F',' '{print $1}')
    STD=$(gdalinfo -stats "$FILE" | grep "Minimum=" | awk -F'StdDev=' '{print $2}' | awk -F',' '{print $1}')
    printf "%-8s %-8s %-12s %-12s %-8s %s\n" "$MIN" "$MAX" "$MEA" "$STD" "$CURRENT_NODATA" "$BASENAME"
done

rm *.tif.aux.xml


# Minimum  Maximum  Mean         StdDev       NoData   File
# 0.000    14.276   2.082        1.212        -3.39999995214436425e+38 BT-GSAS-ECXSD-2021-0-30.tif
# 0.000    14.307   1.890        1.132        -3.39999995214436425e+38 BT-GSAS-ECXSD-2021-30-100.tif
# 0.001    12.491   0.056        0.329                 BT-GSAS-ECXSE-2021-0-30.tif
# 0.001    11.595   0.041        0.205                 BT-GSAS-ECXSE-2021-30-100.tif
# -37.254  1.580    -20.919      8.363                 BT-GSAS-ECXTE-2021-0-30.tif
# -43.731  1.507    -24.615      9.538                 BT-GSAS-ECXTE-2021-30-100.tif
# 1.000    5040964677112.800 181530070.413 30011217350.984 -3.39999995214436425e+38 BT-GSAS-ECXU-2021-0-30.tif
# 1.000    13351574063363.000 431490481.331 74871971456.795 -3.39999995214436425e+38 BT-GSAS-ECXU-2021-30-100.tif
# 0.001    161.560  2.330        5.865                 BT-GSAS-NAEXC-2021-0-30.tif
# 0.001    796.661  6.528        25.062                BT-GSAS-NAEXC-2021-30-100.tif
# -7.259   4.905    0.095        1.051                 BT-GSAS-NAEXCPT-2021-0-30.tif
# -7.487   6.192    0.725        1.232                 BT-GSAS-NAEXCPT-2021-30-100.tif
# 0.000    3.201    0.439        0.374        -3.39999995214436425e+38 BT-GSAS-NAEXCSD-2021-30-100.tif
# 1.000    1.063    1.010        0.011        -3.39999995214436425e+38 BT-GSAS-NAEXCU-2021-30-100.tif
# 3.830    7.558    5.255        0.397                 BT-GSAS-PHX-2021-0-30.tif
# 4.402    7.973    5.664        0.438                 BT-GSAS-PHX-2021-30-100.tif
# 0.000    0.032    0.005        0.006        -3.39999995214436425e+38 BT-GSAS-PHXSD-2021-30-100.tif
# 1.887    3.422    2.536        0.167                 BT-GSAS-PHXT-2021-0-30.tif
# 0.754    0.848    0.800        0.012                 BT-GSAS-PHXT-2021-30-100.tif
# 1.000    1.063    1.010        0.011        -3.39999995214436425e+38 BT-GSAS-PHXU-2021-30-100.tif
# 1.000    10.000   3.069        0.569                 BT-GSAS-SALT-2021-0-30.tif
# 1.000    10.000   3.125        0.964                 BT-GSAS-SALT-2021-30-100.tif
# 0.000    0.098    0.004        0.015        -3.39999995214436425e+38 BT-GSAS-SALTU-2021-30-100.tif
# 5.241    310.835  -9999.000    -9999.000    nan      BT-GSNM-BASAT-2024-0-30.tif
# 5.313    211.198  -9999.000    -9999.000    nan      BT-GSNM-BASATSD-2024-0-30.tif
# 0.502    1.330    -9999.000    -9999.000    nan      BT-GSNM-BKD-2024-0-30.tif
# 0.035    0.338    -9999.000    -9999.000    nan      BT-GSNM-BKDSD-2024-0-30.tif
# 1.250    38.721   -9999.000    -9999.000    nan      BT-GSNM-BSEXC-2024-0-30.tif
# 1.362    32.215   -9999.000    -9999.000    nan      BT-GSNM-BSEXCSD-2024-0-30.tif
# 0.689    31.829   -9999.000    -9999.000    nan      BT-GSNM-CAEXC-2024-0-30.tif
# 0.648    29.249   -9999.000    -9999.000    nan      BT-GSNM-CAEXCSD-2024-0-30.tif
# 4.217    51.140   -9999.000    -9999.000    nan      BT-GSNM-CEC-2024-0-30.tif
# 2.119    22.919   -9999.000    -9999.000    nan      BT-GSNM-CECSD-2024-0-30.tif
# 0.555    47.753   -9999.000    -9999.000    nan      BT-GSNM-CFRAGF-2024-0-30.tif
# 1.763    36.877   -9999.000    -9999.000    nan      BT-GSNM-CFRAGFSD-2024-0-30.tif
# 4.996    56.936   -9999.000    -9999.000    nan      BT-GSNM-CLAY-2024-0-30.tif
# 2.095    29.601   -9999.000    -9999.000    nan      BT-GSNM-CLAYSD-2024-0-30.tif
# 0.400    9.368    -9999.000    -9999.000    nan      BT-GSNM-CORG-2024-0-30.tif
# 1.165    129.777  -9999.000    -9999.000    nan      BT-GSNM-CORGNTOTR-2024-0-30.tif
# 1.955    118.214  -9999.000    -9999.000    nan      BT-GSNM-CORGNTOTRSD-2024-0-30.tif
# 0.171    5.090    -9999.000    -9999.000    nan      BT-GSNM-CORGSD-2024-0-30.tif
# 0.344    380.056  -9999.000    -9999.000    nan      BT-GSNM-KEXC-2024-0-30.tif
# 0.234    478.142  -9999.000    -9999.000    nan      BT-GSNM-KEXCSD-2024-0-30.tif
# 9.028    756.616  -9999.000    -9999.000    nan      BT-GSNM-KXX-2024-0-30.tif
# 10.523   706.841  -9999.000    -9999.000    nan      BT-GSNM-KXXSD-2024-0-30.tif
# 0.171    7.622    -9999.000    -9999.000    nan      BT-GSNM-MGEXC-2024-0-30.tif
# 0.173    5.480    -9999.000    -9999.000    nan      BT-GSNM-MGEXCSD-2024-0-30.tif
# 0.023    4.610    -9999.000    -9999.000    nan      BT-GSNM-NAEXC-2024-0-30.tif
# 0.010    2.739    -9999.000    -9999.000    nan      BT-GSNM-NAEXCSD-2024-0-30.tif
# 0.048    7.536    -9999.000    -9999.000    nan      BT-GSNM-NTOT-2024-0-30.tif
# 0.023    7.126    -9999.000    -9999.000    nan      BT-GSNM-NTOTSD-2024-0-30.tif
# 3.953    7.755    -9999.000    -9999.000    nan      BT-GSNM-PHAQ-2024-0-30.tif
# 0.225    1.414    -9999.000    -9999.000    nan      BT-GSNM-PHAQSD-2024-0-30.tif
# 1.190    414.666  -9999.000    -9999.000    nan      BT-GSNM-PXX-2024-0-30.tif
# 2.310    380.273  -9999.000    -9999.000    nan      BT-GSNM-PXXSD-2024-0-30.tif
# 3.994    71.703   -9999.000    -9999.000    nan      BT-GSNM-SAND-2024-0-30.tif
# 5.416    27.895   -9999.000    -9999.000    nan      BT-GSNM-SANDSD-2024-0-30.tif
# 17.528   76.155   -9999.000    -9999.000    nan      BT-GSNM-SILT-2024-0-30.tif
# 3.211    28.158   -9999.000    -9999.000    nan      BT-GSNM-SILTSD-2024-0-30.tif
# -5097303672.505 51.251   -1157807.560 66310185.131 -3.39999995214436425e+38 BT-GSOC-CORGADBAU-2022-0-30.tif
# -5097303672.505 54.528   -1157806.351 66310185.152 -3.39999995214436425e+38 BT-GSOC-CORGADSSM1-2022-0-30.tif
# -5097303672.505 58.064   -1157805.312 66310185.174 -3.39999995214436425e+38 BT-GSOC-CORGADSSM2-2022-0-30.tif
# -5097303672.505 66.495   -1157802.893 66310185.216 -3.39999995214436425e+38 BT-GSOC-CORGADSSM3-2022-0-30.tif
# -254865183.625 2.563    -57890.378   3315509.257  -3.39999995214436425e+38 BT-GSOC-CORGASRBAU-2022-0-30.tif
# 13.702   9618.928 164.327      383.654      -3.39999995214436425e+38 BT-GSOC-CORGASRBAUU-2022-0-30.tif
# -254865183.625 2.726    -57890.318   3315509.258  -3.39999995214436425e+38 BT-GSOC-CORGASRSSM1-2022-0-30.tif
# 15.352   9618.928 170.066      383.902      -3.39999995214436425e+38 BT-GSOC-CORGASRSSM1U-2022-0-30.tif
# -254865183.625 2.903    -57890.266   3315509.259  -3.39999995214436425e+38 BT-GSOC-CORGASRSSM2-2022-0-30.tif
# 15.363   9618.928 170.129      383.742      -3.39999995214436425e+38 BT-GSOC-CORGASRSSM2U-2022-0-30.tif
# -254865183.625 3.325    -57890.145   3315509.261  -3.39999995214436425e+38 BT-GSOC-CORGASRSSM3-2022-0-30.tif
# 15.386   9618.928 170.255      383.432      -3.39999995214436425e+38 BT-GSOC-CORGASRSSM3U-2022-0-30.tif
# -999.000 377345.857 -54.210      4465.296     -3.39999995214436425e+38 BT-GSOC-CORGBAUU-2022-0-30.tif
# 0.000    5.467    1.210        0.798        -3.39999995214436425e+38 BT-GSOC-CORGRDSSM1-2022-0-30.tif
# -1295.551 10.934   2.249        14.969       -3.39999995214436425e+38 BT-GSOC-CORGRDSSM2-2022-0-30.tif
# -1295.551 21.868   4.668        15.249       -3.39999995214436425e+38 BT-GSOC-CORGRDSSM3-2022-0-30.tif
# 0.000    0.273    0.060        0.040        -3.39999995214436425e+38 BT-GSOC-CORGRSRSSM1-2022-0-30.tif
# 15.165   187977.686 155.793      2226.925     -3.39999995214436425e+38 BT-GSOC-CORGRSRSSM1U-2022-0-30.tif
# -64.778  0.547    0.112        0.748        -3.39999995214436425e+38 BT-GSOC-CORGRSRSSM2-2022-0-30.tif
# 15.177   159309.427 151.995      1909.346     -3.39999995214436425e+38 BT-GSOC-CORGRSRSSM2U-2022-0-30.tif
# -64.778  1.093    0.233        0.762        -3.39999995214436425e+38 BT-GSOC-CORGRSRSSM3-2022-0-30.tif
# 15.200   159309.427 151.945      1906.632     -3.39999995214436425e+38 BT-GSOC-CORGRSRSSM3U-2022-0-30.tif
# -999.000 296.551  -67.590      383.103      -3.39999995214436425e+38 BT-GSOC-CORGSOCBAU-2022-0-30.tif
# -999.000 298.747  -66.380      383.643      -3.39999995214436425e+38 BT-GSOC-CORGSOCSSM1-2022-0-30.tif
# -999.000 290.264  -65.341      384.309      -3.39999995214436425e+38 BT-GSOC-CORGSOCSSM2-2022-0-30.tif
# -999.000 298.083  -62.922      385.392      -3.39999995214436425e+38 BT-GSOC-CORGSOCSSM3-2022-0-30.tif
# -999.000 68.056   -125.499     369.698      -3.39999995214436425e+38 BT-GSOC-CORGSSMU-2022-0-30.tif
# 0.000    5097302673.505 1157739.971  66310168.872 -3.39999995214436425e+38 BT-GSOC-CORGT0-2022-0-30.tif
# -9462.454 9618.908 -121.535     416.583      -3.39999995214436425e+38 BT-GSOC-CORGT0U-2022-0-30.tif
# 1.000    7.000    -9999.000    -9999.000    nan      BT-OTHER-WRB-2024-0-100.tif
